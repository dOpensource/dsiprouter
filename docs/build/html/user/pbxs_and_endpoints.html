<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.4.1.3. PBX(s) and Endpoints &mdash; dSIPRouter 0.721 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.4.1.5. Adding a Domain" href="domains.html" />
    <link rel="prev" title="1.4.1.1. Carrier Groups" href="carrier_groups.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            dSIPRouter
          </a>
              <div class="version">
                0.721
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">1.  User Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installing.html">1.2.1. Installing dSIPRouter</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_line_options.html">1.3.1. Command Line Options</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="configuring.html">1.4.1. Configuring dSIPRouter</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="carrier_groups.html">1.4.1.1. Carrier Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="carrier_groups.html#adding-a-carrier">1.4.1.2. Adding a Carrier</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.4.1.3. PBX(s) and Endpoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="#inbound-did-mapping">1.4.1.4. Inbound DID Mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="domains.html">1.4.1.5. Adding a Domain</a></li>
<li class="toctree-l3"><a class="reference internal" href="global_outbound_routes.html">1.4.1.6. Global Outbound Routes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api.html">1.5.1. API</a></li>
<li class="toctree-l2"><a class="reference internal" href="use-cases.html">1.6.1. Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="resources.html">1.7.1. Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="supported_configurations.html">1.8.1. Supported Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">1.9.1. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade.html">1.10.1. Upgrading dSIPRouter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="upgrade_0.621_to_0.63.html">1.10.1.4.1. Upgrade dSIPRouter</a></li>
<li class="toctree-l3"><a class="reference internal" href="upgrade_0.522_to_0.523.html">1.10.1.5.1. Upgrade dSIPRouter</a></li>
<li class="toctree-l3"><a class="reference internal" href="upgrade_0.50_to_0.51.html">1.10.1.6.1. Upgrade dSIPRouter</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html"> Developer Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dev/database.html">1.  database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/dsiprouter.html">2.  dsiprouter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/globals.html">3.  globals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/modules.html">4.  modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/settings.html">5.  settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/shared.html">6.  shared</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/sysloginit.html">7.  sysloginit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/util.html">8.  util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../routes/index.html">2.  Routes Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../routes/routes.html">2.1.  routes</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">dSIPRouter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">1. </span>The dSIPRouter Project</a></li>
          <li class="breadcrumb-item"><a href="configuring.html"><span class="section-number">1.4.1. </span>Configuring dSIPRouter</a></li>
      <li class="breadcrumb-item active"><span class="section-number">1.4.1.3. </span>PBX(s) and Endpoints</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user/pbxs_and_endpoints.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="pbx-s-and-endpoints">
<h1><span class="section-number">1.4.1.3. </span>PBX(s) and Endpoints<a class="headerlink" href="#pbx-s-and-endpoints" title="Permalink to this heading"></a></h1>
<p>Allows you to define a PBX or Endpoint that will send or receive calls from dSIPRouter.  The PBX or Endpoint can use IP
authentication or a username/password can be defined.</p>
<div class="section" id="to-add-an-endpoint-group">
<h2><span class="section-number">1.4.1.3.1. </span>To add an Endpoint Group:<a class="headerlink" href="#to-add-an-endpoint-group" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Click on Endpoints Groups.</p></li>
<li><p>Click on the green Add button.</p></li>
</ol>
<img alt="../_images/dSIP_PBX_Add.png" class="align-center" src="../_images/dSIP_PBX_Add.png" />
<ol class="arabic" start="3">
<li><p>Configure the Endpoint Group</p>
<blockquote>
<div><p>The Endpoint Tab is where you specify the endpoints that will be signaling
with dSIPRouter.  The weight field allows you to define how much SIP traffic
is distributed to a particular endpoint. If you don’t specify a weight for an endpoint
the system will automatically generate a weight.  If you are using FusionPBX Domain
Auth then Register and INVITE requests will be distributed to the endpoints based
upon the weights.  You will also have the option to route Inbound calls to the
endpoints based on the weights by selecting the name of the Endpoint Group with
an LB concatenated to the name.  For example, if the name of the Endpoint Group is
<strong>PBXCluster</strong> then you would select <strong>PBXCluster LB</strong> from the Inbound Mapping
Endpoint Group drop down.</p>
</div></blockquote>
</li>
</ol>
<blockquote>
<div><ol class="loweralpha simple" start="2">
<li><p>Click the green Add button.</p></li>
</ol>
</div></blockquote>
<img alt="../_images/dSIP_PBX_ADD_New_PBX.png" class="align-center" src="../_images/dSIP_PBX_ADD_New_PBX.png" />
<ol class="arabic simple" start="4">
<li><p>Click on the Reload Kamailio button in order for the changes to be updated.</p></li>
</ol>
</div>
</div>
<div class="section" id="inbound-did-mapping">
<h1><span class="section-number">1.4.1.4. </span>Inbound DID Mapping<a class="headerlink" href="#inbound-did-mapping" title="Permalink to this heading"></a></h1>
<div class="section" id="to-import-a-did-from-a-csv-file">
<h2><span class="section-number">1.4.1.4.1. </span>To Import a DID from a CSV file:<a class="headerlink" href="#to-import-a-did-from-a-csv-file" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Click on Inbound DID Mapping.</p></li>
</ol>
<img alt="../_images/dSIP_IN_DID_Map.png" class="align-center" src="../_images/dSIP_IN_DID_Map.png" />
<ol class="arabic simple" start="2">
<li><p>Click on the green Import DID button underneath List on Inbound Mappings.</p></li>
</ol>
<img alt="../_images/dSIP_IN_Import_DID.png" class="align-center" src="../_images/dSIP_IN_Import_DID.png" />
<ol class="arabic simple" start="3">
<li><p>Click the Browse button and select the file that contains the DID numbers that you wish to use.</p></li>
<li><p>Click the green Add button.</p></li>
</ol>
<blockquote>
<div><p>Click <a class="reference external" href="https://https://raw.githubusercontent.com/dOpensource/dsiprouter/master/gui/static/template/DID_example.csv">CSV Example</a> to view a sample of the .CSV file</p>
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Click on the Reload Kamailio button in order for the changes to be updated.</p></li>
</ol>
</div>
<div class="section" id="to-manually-import-a-did">
<h2><span class="section-number">1.4.1.4.2. </span>To Manually import a DID:<a class="headerlink" href="#to-manually-import-a-did" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Click on Inbound DID Mapping</p></li>
<li><p>Click on the green ADD button.</p></li>
</ol>
<blockquote>
<div><ul>
<li><p>Enter the name of the Inbound mapping</p></li>
<li><p>Enter the DID number in the DID field.</p></li>
<li><p>Select the Endpoint Group from the drop-down list</p>
<blockquote>
<div><p>Note: Each endpoint will contain at least two entries.  One that leverages load balancing weights and another that randomly selects an endpoint.
The one denoted with a LB is the one that uses the load balancing algorithm.  If FusionPBX Domain Support is enabled you will see an additional
entry for routing to the external interface of the FusionPBX server.</p>
</div></blockquote>
</li>
<li><p>Click the green Add button.</p></li>
</ul>
<img alt="../_images/dSIP_IN_DID_Map.png" class="align-center" src="../_images/dSIP_IN_DID_Map.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Click on the Reload Kamailio button in order for the changes to be updated.</p></li>
</ol>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="carrier_groups.html" class="btn btn-neutral float-left" title="1.4.1.1. Carrier Groups" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="domains.html" class="btn btn-neutral float-right" title="1.4.1.5. Adding a Domain" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright dOpenSource.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>